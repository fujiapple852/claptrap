---
title: Arg::env
description: The `Arg::env` API.
banner:
  content: ðŸš§ ðŸš§ ðŸš§ Under construction ðŸš§ ðŸš§ ðŸš§
sidebar:
  label: env
---

import { Tabs, TabItem } from '@astrojs/starlight/components';
import { Badge } from '@astrojs/starlight/components';
import { Icon } from '@astrojs/starlight/components';
import { LinkButton } from '@astrojs/starlight/components';

# `env` <LinkButton href="https://docs.rs/clap/latest/clap/struct.Arg.html#method.env" icon="open-book" variant="minimal"></LinkButton>

<Badge text="since 0.1.0" size="small" />

Read from name environment variable when argument is not present.

# Examples
## Example 1

### Spec

<Tabs syncKey="format">
  <TabItem label="TOML">
```toml
name = "prog"
[args]
flag = { long = "flag", env = "MY_FLAG", action = "set", default-value = "default" }
```
  </TabItem>
  <TabItem label="YAML">
```yaml
name: prog
args:
  flag:
    long: flag
    env: MY_FLAG
    action: set
    default-value: default
```
  </TabItem>
  <TabItem label="JSON">
```json
{
  "name": "prog",
  "args": {
    "flag": {
      "long": "flag",
      "env": "MY_FLAG",
      "action": "set",
      "default-value": "default"
    }
  }
}
```
  </TabItem>
</Tabs>

### Input

```bash
prog
```

### Output

```bash
claptrap_flag='env'
```
## Example 2

### Spec

<Tabs syncKey="format">
  <TabItem label="TOML">
```toml
name = "prog"
[args]
true_flag = { long = "true_flag", env = "TRUE_FLAG", action = "set-true", value-parser = [":falsey:"] }
false_flag = { long = "false_flag", env = "FALSE_FLAG", action = "set-true", value-parser = [":falsey:"] }
absent_flag = { long = "absent_flag", env = "ABSENT_FLAG", action = "set-true", value-parser = [":falsey:"] }
```
  </TabItem>
  <TabItem label="YAML">
```yaml
name: prog
args:
  true_flag:
    long: true_flag
    env: TRUE_FLAG
    action: set-true
    value-parser:
    - ':falsey:'
  false_flag:
    long: false_flag
    env: FALSE_FLAG
    action: set-true
    value-parser:
    - ':falsey:'
  absent_flag:
    long: absent_flag
    env: ABSENT_FLAG
    action: set-true
    value-parser:
    - ':falsey:'
```
  </TabItem>
  <TabItem label="JSON">
```json
{
  "name": "prog",
  "args": {
    "true_flag": {
      "long": "true_flag",
      "env": "TRUE_FLAG",
      "action": "set-true",
      "value-parser": [
        ":falsey:"
      ]
    },
    "false_flag": {
      "long": "false_flag",
      "env": "FALSE_FLAG",
      "action": "set-true",
      "value-parser": [
        ":falsey:"
      ]
    },
    "absent_flag": {
      "long": "absent_flag",
      "env": "ABSENT_FLAG",
      "action": "set-true",
      "value-parser": [
        ":falsey:"
      ]
    }
  }
}
```
  </TabItem>
</Tabs>

### Input

```bash
prog
```

### Output

```bash
claptrap_true_flag='true'
claptrap_false_flag='false'
claptrap_absent_flag='false'
```
## Example 3

### Spec

<Tabs syncKey="format">
  <TabItem label="TOML">
```toml
name = "prog"
[args]
flag = { long = "flag", env = "MY_FLAG_MULTI", action = "set", num-args = "1..", value-delimiter = "," }
```
  </TabItem>
  <TabItem label="YAML">
```yaml
name: prog
args:
  flag:
    long: flag
    env: MY_FLAG_MULTI
    action: set
    num-args: 1..
    value-delimiter: ','
```
  </TabItem>
  <TabItem label="JSON">
```json
{
  "name": "prog",
  "args": {
    "flag": {
      "long": "flag",
      "env": "MY_FLAG_MULTI",
      "action": "set",
      "num-args": "1..",
      "value-delimiter": ","
    }
  }
}
```
  </TabItem>
</Tabs>

### Input

```bash
prog
```

### Output

```bash
claptrap_flag=('env1' 'env2')
```
## Example 4

### Spec

<Tabs syncKey="format">
  <TabItem label="TOML">
```toml
name = "prog"
[args]
flag = { long = "flag", env = "MY_FLAG", action = "set" }
```
  </TabItem>
  <TabItem label="YAML">
```yaml
name: prog
args:
  flag:
    long: flag
    env: MY_FLAG
    action: set
```
  </TabItem>
  <TabItem label="JSON">
```json
{
  "name": "prog",
  "args": {
    "flag": {
      "long": "flag",
      "env": "MY_FLAG",
      "action": "set"
    }
  }
}
```
  </TabItem>
</Tabs>

### Input

```bash
prog --flag opt
```

### Output

```bash
claptrap_flag='opt'
```
## Example 5

### Spec

<Tabs syncKey="format">
  <TabItem label="TOML">
```toml
name = "prog"
[args]
flag = { long = "flag", env = "MY_FLAG", action = "set" }
```
  </TabItem>
  <TabItem label="YAML">
```yaml
name: prog
args:
  flag:
    long: flag
    env: MY_FLAG
    action: set
```
  </TabItem>
  <TabItem label="JSON">
```json
{
  "name": "prog",
  "args": {
    "flag": {
      "long": "flag",
      "env": "MY_FLAG",
      "action": "set"
    }
  }
}
```
  </TabItem>
</Tabs>

### Input

```bash
prog
```

### Output

```bash
claptrap_flag='env'
```
